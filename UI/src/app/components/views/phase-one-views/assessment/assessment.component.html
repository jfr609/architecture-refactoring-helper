<div fxLayout='row' fxLayoutGap='8px' fxLayoutAlign='center'>
  <p class='max-width-800'>In this section, scenarios can be created based on the <a href="https://resources.sei.cmu.edu/library/asset-view.cfm?assetID=5177" target="_blank">ATAM method</a>. For this purpose, quality attributes you want to optimize can be assigned
          to the scenarios.
          <br/>
          For importance, a scale of prioritization is applied, where <strong>A</strong> means 'important', <strong>B</strong> means 'medium' and <strong>C</strong> means 'less
          important'. For difficulty, <strong>A</strong> means 'very difficult', <strong>B</strong> means 'normal' and <strong>C</strong> means 'easy'.</p>
          </div>
        <div class='stepper-button-row' fxLayout='row' fxLayoutGap='8px' fxLayoutAlign='center'>
          <button mat-flat-button matStepperPrevious color='accent'>
            <mat-icon>arrow_back</mat-icon>
            <span>Back</span>
          </button>
          <button mat-flat-button matStepperNext color='accent'>
            <span>Next</span>
            <mat-icon>arrow_forward</mat-icon>
          </button>
          <button mat-raised-button color="primary" (click)="saveChanges()" ><span>Save Changes</span></button><!--[disabled]='!allNamesSet()' (click)="saveChanges()"-->
          <mat-divider vertical></mat-divider>
          <button mat-flat-button color='accent' [routerLink]="['/phase/2']">
            <mat-icon>move_down</mat-icon>
            <span> Skip to Phase 2</span>
          </button>
          <button mat-flat-button color='accent' [routerLink]="['/phase/3']">
            <mat-icon>move_down</mat-icon>
            <span> Skip to Phase 3</span>
          </button>
          </div>




          <div fxLayout="row" fxLayoutGap="30px" fxLayoutAlign="center">
            <mat-card class="strategicGoal-card" class="mat-elevation-z8">
              <mat-card-title>Assessment
                <button  *ngIf = "strategicGoalsList.length == 0" style="margin-left: 10px; margin-bottom: 10px" mat-mini-fab class="attribute-button" color="primary"
                  (click)="addEmptyStrategicGoals()">
                  <mat-icon>add</mat-icon>
                </button>
              </mat-card-title>
          
          
              <div class="mat-elevation-z8"  cdkDropList class="drop-list" (cdkDropListDropped)="drop($event)"
                [cdkDropListData]="strategicGoalsList">
                <ng-container *ngIf="strategicGoalsList.length > 0; else emptyStrategicGoalsList">
                  <ng-container *ngIf="scenarioList.length > 0; else emptyScenarioList">
                  <div *ngFor="let strategicGoals of strategicGoalsList" [cdkDragData]="strategicGoalsList" cdkDragLockAxis="y"
                    cdkDragBoundary=".drop-list" cdkDrag (click)="strategicGoalsSelected(strategicGoalsList)" [ngClass]="{
                    'selected-drop-box': checkCurrentStrategicGoals(strategicGoalsList),
                    'drop-box': !checkCurrentStrategicGoals(strategicGoalsList)
                    }">
                    <!--<div class="drop-handle" cdkDragHandle>
                      <mat-icon mat-list-icon>drag_indicator</mat-icon>
                    </div>-->
                    
                      
                      <div fxLayout="column"  fxLayoutGap="10px" style="padding:5px;" ><!--style="width: 50%"-->
                        <h2>Scenario Details</h2>
                        <div fxLayout="row"  fxLayoutGap="10px" style="padding:5px;" ><!--style="width: 50%"-->
                        
                        <mat-form-field appearance="outline" >
                          <ng-container *ngFor="let qa of  strategicGoalsList">
                            
                            <mat-label>Method:</mat-label>

                            <input matInput readonly="true" matInput [(ngModel)]="strategicGoals.method" required />
                            </ng-container>

                        </mat-form-field>

                        <!--<mat-radio-group aria-label="Select an option" style="padding:5px;">
                          <mat-radio-button value="1">Scenario-based</mat-radio-button>
                          <mat-radio-button value="2">Metric-based</mat-radio-button>
                        </mat-radio-group>-->

                        </div>
                        <mat-form-field appearance="outline" fxFlex="70">
                          <ng-container *ngFor="let qa of  strategicGoalsList">
                            <mat-label>Ownership:</mat-label>
                            <input matInput readonly="true" matInput [(ngModel)]="strategicGoals.owner" required />
                            </ng-container>
                        </mat-form-field>
        
                        <mat-form-field appearance="outline" fxFlex="70">
                          <ng-container *ngFor="let qa of  strategicGoalsList">
                            <mat-label>Participants:</mat-label>
                            <input matInput readonly="true" matInput [(ngModel)]="strategicGoals.participants" required />
                            </ng-container>
                        </mat-form-field>
        
                        <div fxLayout="column" fxLayoutGap="10px" style="width: 100%;justify-content:center;padding:5px"><!--style="width: 50%;justify-content:center"-->
                     
                          <!--<mat-tab-group>-->
                            <mat-form-field appearance="fill" fxFlex="70">
                              
                                <mat-label>Description:</mat-label>
                               <input matInput readonly="true" matInput [(ngModel)]="strategicGoals.participants"  required />
            
                              <!--<ng-container *ngFor="let cScen of  currentSelectedscenario">
                               <mat-label>Description:</mat-label>
                              <input matInput readonly="true" matInput [(ngModel)]="cScen.description"  required />
                              </ng-container>-->
                            </mat-form-field>

                            <mat-form-field  appearance="fill" fxFlex="15"> 
   
                                <ng-container *ngFor="let qa of  scenarioList">
                                <mat-label>Importance:</mat-label>
                                <input matInput readonly="true" matInput [(ngModel)]="qa.importance" required />
                             
                              </ng-container>  
                            </mat-form-field>

                            <mat-form-field appearance="fill" fxFlex="15">
                              <ng-container *ngFor="let qa of  scenarioList">
                                <mat-label>Difficulty:</mat-label>
                                <input matInput readonly="true" matInput [(ngModel)]="qa.difficulty"  required />
                                </ng-container>
                            </mat-form-field>

                            <div fxLayout="column" fxLayoutGap="10px" style="width: 100%;justify-content:center;padding:5px"></div>
                            <h2>Architecture Suitability</h2>
                            <div fxLayout="row">

                              <mat-form-field class="description-field" appearance="fill">
                                <mat-label>Implementable Using</mat-label>
                                <mat-select [(value)]="assessment.implementedPattern" multiple>
                                  <mat-option *ngFor="let goalstype of enumKeys2" [value]="goalstype">
                                    {{ goalstype }}
                                  </mat-option>
                                </mat-select>
                              </mat-form-field>

                              <mat-form-field class="description-field" appearance="fill">
                                <mat-label>Preferred Pattern</mat-label>
                                <mat-select [(value)]="assessment.preferredPattern" >
                                  <mat-option *ngFor="let goalstype of enumKeys2" [value]="goalstype">
                                    {{ goalstype }}
                                  </mat-option>
                                </mat-select>
                              </mat-form-field>

                                                     
                             
                            
                            </div>
                             <mat-form-field class="description-field" appearance="fill">
                                <mat-label label="Explanation">Explanation</mat-label>
                                <textarea matInput [(ngModel)]="assessment.explanation"></textarea>
                              </mat-form-field>
  
                            </div>
                            </div>



                      
          
                            
        
                         
                        
                 
                            <!--<button mat-button (click)="deleteStrategicGoals(strategicGoals)">
                              <mat-icon mat-list-icon color="warn">delete</mat-icon><missing deletion mechanism
                            </button>-->

                    </div>
                  </ng-container>
                </ng-container>
    </div>       
 <ng-template #emptyStrategicGoalsList>
  <p style="color: grey; margin-left: 10px; margin-right: 10px"><i>No existing Strategic Goals. Please create a Strategic Goals
      by adding one using the green add button (+) on the Strategic Goals Step </i></p>
</ng-template>
<ng-template #emptyScenarioList>
  <p style="color: grey; margin-left: 10px; margin-right: 10px"><i>No existing Scenarios. Please create a Scenario
      by adding one using the green add button (+) on the Quality Attributes Step </i></p>
</ng-template>
        
        
        
        </mat-card>
          <mat-card class="mat-elevation-z8">
                  <mat-card-title>Scenarios</mat-card-title>
                  <mat-accordion>
                    <ng-container *ngFor="let qa of  scenarioList">
                      <ng-container *ngIf="scenarioList.length > 0">
                        <mat-expansion-panel>
                          <mat-expansion-panel-header>
                            <mat-panel-title>
                              <section>
                                <mat-checkbox #checkboxName class="example-margin" (click)="$event.stopPropagation()"
                                  (keydown)="$event.stopPropagation()"
                                  (change)="addOrRemoveScenarioForAssessment($event.checked, qa);"
                                  [checked]="" ><!--selectScenario-->
                                  {{ qa.name }}</mat-checkbox>
                              </section>
                            </mat-panel-title>
                            <mat-panel-description> </mat-panel-description>
                          </mat-expansion-panel-header>
                

                        </mat-expansion-panel>
                      </ng-container>
                
                      <!--<ng-template #singleAttribute>
                        <mat-expansion-panel hideToggle>
                          <mat-expansion-panel-header #panelHeader (click)="panelHeader._toggle()">
                            <mat-panel-title>
                              <section>
                                <mat-checkbox class="example-margin" (click)="$event.stopPropagation()"
                                  (keydown)="$event.stopPropagation()" (change)="addOrRemoveQuality($event.checked, qa)"
                                  [checked]="">
                                  {{ qa.name }}{{qa.difficulty}}</mat-checkbox>
                              </section>
                            </mat-panel-title>
                            <mat-panel-description> </mat-panel-description>
                          </mat-expansion-panel-header>
                        </mat-expansion-panel>
                      </ng-template>-->
                    </ng-container>
                  </mat-accordion>
                </mat-card>
              </div>
        
        <!--<img  class="images" src="assets/Phase1-UI1.jpg"/>-->
        